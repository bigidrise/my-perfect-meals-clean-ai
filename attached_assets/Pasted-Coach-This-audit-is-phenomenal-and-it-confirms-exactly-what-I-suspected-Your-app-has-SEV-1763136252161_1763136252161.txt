Coach‚Ä¶
This audit is *phenomenal* ‚Äî and it confirms exactly what I suspected:

**Your app has SEVEN different ingredient schemas, FOUR unit systems, TWO fraction formats, THREE naming conventions‚Ä¶ and one giant pile of inconsistencies.**

If we don‚Äôt standardize this **before** Apple submission, you‚Äôre going to get:

* shopping errors
* broken totals
* ‚Äú4 chickens‚Äù repeating
* inconsistent UI
* and a nightmare when you add Walmart or Instacart later

This is the perfect moment to fix it ‚Äî thanks to your audit.

Now we move into **Phase 2: The Unification Blueprint**.

I‚Äôm going to give you the prompt that tells the Replit Agent to:

1. **Analyze this audit and generate a STANDARDIZED universal schema**
2. **Propose a transformation plan for every broken system**
3. **List exact file paths and needed transformations per system**
4. **NOT make ANY changes yet ‚Äî blueprint only**
5. **Generate a master migration plan**
6. **Define the ingredient ‚Äúlaws‚Äù the whole app must follow**

This keeps everything safe and controlled.

This is the next prompt you paste to Replit.

---

# ‚úÖ **COPY + PASTE THIS PROMPT TO THE REPLIT AGENT**

**DO NOT MODIFY ANY FILES ‚Äî BLUEPRINT ONLY**

```
Based on the full ingredient-format audit you just performed, I now need a complete UNIFICATION BLUEPRINT.

Do NOT change any files yet. This is a planning and architecture task only.

Your goals:

1. Propose a single universal ingredient schema that EVERY meal system in the app must conform to.
   Requirements:
   - Separate fields for: name, quantity, unit, and optional notes.
   - Numeric quantity (no string amounts)
   - Singular unit names
   - No embedded descriptive metadata in the item name
   - No fused quantity + unit strings
   - Clean, predictable structure for shopping aggregation

2. For each meal system (all 12 categories), generate:
   A. What their current structure is
   B. What their structure MUST become
   C. A step-by-step transformation plan
   D. Required parsing logic (fraction conversion, unit extraction, descriptor cleanup)
   E. A list of specific files that will need updates

3. Identify any edge cases that need a custom parser:
   - String fractions ("1/2 cup")
   - Unicode fractions ("¬Ω cup")
   - Ingredients without units ("pinch of salt")
   - Size-only units ("large", "medium", "small")
   - Natural language items ("a handful of spinach")
   - Athlete meal format (completely different schema)
   - Mocktails (no quantities or units at all)

4. Propose a ‚ÄúUniversal Ingredient Parser‚Äù specification:
   - Input can be string or object
   - Output MUST match the unified schema
   - Rules for:
       ‚Ä¢ quantity extraction
       ‚Ä¢ fraction conversion
       ‚Ä¢ unit normalization
       ‚Ä¢ cleanup of parenthetical descriptors
       ‚Ä¢ cleanup of embedded notes
       ‚Ä¢ name canonicalization
   - Include example input ‚Üí output transformations

5. Create a MIGRATION ROADMAP:
   - Phase 1: Build parser + unit map + descriptor extractor
   - Phase 2: Apply to all premade meal datasets
   - Phase 3: Update AI normalization layer
   - Phase 4: Ensure all shopping systems use unified schema
   - Phase 5: Convert legacy boards (Athlete, Mocktails)
   - Phase 6: Regression testing plan

6. Output everything as an organized architecture document:
   - Universal Schema
   - Transformation Strategy by System
   - Parsing Logic Specification
   - File-by-File Migration Plan
   - QA/Testing Checklist

Do NOT write code yet.
Do NOT modify any existing files.
Blueprint only.

Begin.
```

---

# üî• Coach, here‚Äôs what happens next

Once the agent gives us that blueprint:

1. We finalize the **universal schema**
2. We approve the **migration plan**
3. THEN we have the Replit Agent apply the changes in clean phases
4. Your entire app finally speaks **ONE LANGUAGE**

This sets the foundation for:

* flawless shopping lists
* Walmart/Instacart integration
* proper AI meal parsing
* consistent macros
* easier clinical guardrails
* better scaling for future boards

This is how you get the whole house on one foundation so nothing collapses later.

---

Send that prompt to Replit, then paste the results here and I‚Äôll guide the next step.
