Absolutely ‚Äî here‚Äôs the exact message you should send to the **agent**, perfectly tuned so nothing breaks and they know *precisely* what we‚Äôve already done, what Phase 5 is, and *exactly* what must happen next.

Copy/paste this **as-is** to the Replit Agent.
This will lock them on the correct path.

---

# ‚úÖ **REPLIT AGENT ‚Äî PHASE 5 EXECUTION BRIEF**

### *(Complete the Lifestyle & Clinical Diet Meal Boards)*

**This message is to get you back on track.**
The previous assistant reset caused confusion, so here is the correct context:

---

# üî• **WHAT IS ALREADY BUILT (DO NOT CHANGE):**

### **1. Both Diet Boards Exist**

* `client/src/pages/LifestyleDietMenuBuilder.tsx`
* `client/src/pages/ClinicalLifestyleDietMenuBuilder.tsx`

Both have:

‚úî The correct headers
‚úî A working diet dropdown
‚úî State for diet selection
‚úî Imports for all required components
‚úî localStorage diet persistence

**These pages currently contain only the header + dropdown.
They are missing the actual functional meal board.**

---

### **2. Diet Ingredient Config Files (COMPLETE)**

* `client/src/data/lifestyleDietPickerConfig.ts`
* `client/src/data/clinicalDietPickerConfig.ts`

These contain **ALL** 14 diets (7 lifestyle + 7 clinical) with **full ingredient sets** for:

* Breakfast
* Lunch
* Dinner
* Snacks (6 snack categories)

**Do NOT modify these files.**

---

### **3. MealIngredientPicker Already Accepts Diet Inputs (DO NOT MODIFY IT)**

`client/src/components/MealIngredientPicker.tsx` already supports:

```ts
dietConfig?: DietConfig
dietType?: string
```

And uses diet-specific ingredient lists when provided.

---

# ‚ùå **WHAT IS *NOT* BUILT YET (THIS IS PHASE 5):**

Both diet boards still **DO NOT**:

* render the meal board structure
* show breakfast/lunch/dinner/snack slots
* open the AI ingredient picker
* create meal cards
* save meals to the board
* generate meals using AI
* show snack cards
* show daily macro totals
* show the macro bridge footer
* show day/week toggle
* show the ‚Äúprevious week / next week‚Äù arrows
* show day-of-week chips
* provide shopping list integration

**They‚Äôre basically empty shells.**

This is expected ‚Äî and this is exactly what Phase 5 is supposed to fix.

---

# üéØ **YOUR TASK ‚Äî COMPLETE PHASE 5**

### üöÄ **Clone the DiabeticMealBuilder structure**

Use **DiabeticMenuBuilder.tsx** as the blueprint and replicate its functionality EXACTLY.

**BUT DO NOT copy its medical guardrails.**
No diabetes features.
No GLP-1 features.
No warnings.
No glucose logic.
No medical badges.

Just the meal board logic.

---

# üõ†Ô∏è **REQUIRED ITEMS TO ADD TO BOTH DIET BOARDS:**

### **1. Full Meal Board Rendering**

Breakfast ‚Üí Full meal card
Lunch ‚Üí Full meal card
Dinner ‚Üí Full meal card
Snacks ‚Üí Snack card (same as all other boards)

---

### **2. Day/Week Planning System**

Replicate EXACT:

* Week header
* Prev/Next buttons
* Day chips (Mon‚ÄìSun)
* Active day state
* Day vs Week mode switch
* All reusable helpers from DiabeticMenuBuilder

---

### **3. Modals (use existing components)**

Add:

* AI Meal Creator Modal (`MealIngredientPicker`)
* Manual Add Meal modal
* Add Snack Modal
* MealPickerDrawer (for prebuilt meals)
* Shopping List Preview Modal

---

### **4. Wire Diet Ingredient Logic**

When a diet is selected:

Pass these props into `MealIngredientPicker`:

```tsx
dietConfig={lifestyleDietPickerConfig[selectedDiet]}
dietType={selectedDiet}
```

or for clinical:

```tsx
dietConfig={clinicalDietPickerConfig[selectedDiet]}
dietType={selectedDiet}
```

---

### **5. Empty State**

If NO diet is selected:

Show a centered black-glass message:

> **Please choose a diet to continue**

This should replace the entire board content.

---

### **6. AI Meal Generation**

AI generation must behave EXACTLY like the diabetic and GLP-1 boards:

* Save generated meals into the correct ‚Äúmeal slot‚Äù
* Show the AI modal with the correct dietConfig ingredient list
* Include `dietType` in the AI request payload
* Render MealCards visually identical to all other boards

---

### **7. DO NOT TOUCH ANYTHING ELSE**

Do **NOT** modify:

* Any other meal boards
* Snack card logic
* Ingredient pickers for other boards
* Backend routes
* Database
* Guardrails
* Anything related to diabetic or GLP-1

Phase 5 involves **UI + meal board logic only** inside these two files:

‚úî `LifestyleDietMenuBuilder.tsx`
‚úî `ClinicalLifestyleDietMenuBuilder.tsx`

Nothing else.

---

# üß© **FILE SUMMARY FOR YOU TO USE**

### **Blueprint for cloning (use these):**

* `client/src/pages/physician/DiabeticMenuBuilder.tsx`
* `client/src/pages/physician/GLP1MealBuilder.tsx`

### **Diet Ingredient Sources:**

* `client/src/data/lifestyleDietPickerConfig.ts`
* `client/src/data/clinicalDietPickerConfig.ts`

### **Picker Component:**

* `client/src/components/MealIngredientPicker.tsx`

Everything is already in place ‚Äî you just need to wire them together.

---

# üìå **END RESULT EXPECTATION**

At the end of Phase 5:

Both diet boards should be **fully functional weekly meal planners** identical to Diabetic and GLP-1‚Ä¶
but using their own diet-based ingredient pickers.

---

Coach ‚Äî this is the exact, clean, architect-level brief the agent needs.
They won‚Äôt guess. They won‚Äôt break anything.
They‚Äôll just execute Phase 5 correctly.

When they finish, we‚Äôll run the test checklist again.
