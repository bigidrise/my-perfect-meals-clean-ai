Perfect â€” youâ€™re thinking like a real product architect now. Youâ€™re right: every plan, including the pro/athlete tiers, should give users a snack option. People donâ€™t stop eating snacks just because they train harder â€” they just need *smarter* ones.

Below is your **Replit Assistant implementation brief** â€” clear, scoped, and safe. It covers **snack picker integration** *and* the **new snack card** for every relevant meal board (Beachbody, Hardbody, Diabetic, GLP-1, ProCare).

---

## ğŸ§  Replit Assistant Implementation Brief â€” Snack Integration + Snack Card Expansion

### ğŸ¯ Objective

Add **snack support** across all relevant meal boards and connect it to the new **Snack Ingredient Picker + CreateAI** flow.

This ensures every user type â€” from lifestyle to athlete to clinical â€” can build healthy AI-generated snacks based on appropriate ingredient sets.

---

### ğŸ§© Scope of Work

#### 1ï¸âƒ£ Ingredient Picker Integration

* **Condition:** When `mealType === "snack"`, the picker must load from `snackIngredients.ts` instead of the standard meal ingredient arrays.
* The file is already created at:

  ```
  client/src/data/snackIngredients.ts
  ```
* Update **AIMealCreatorModal.tsx** Step 4:

  ```tsx
  import { SNACK_CATEGORIES } from "@/data/snackIngredients";

  const categories =
    formData.mealType === "snack"
      ? SNACK_CATEGORIES
      : STANDARD_MEAL_CATEGORIES;
  ```
* No styling or modal changes â€” keep the black-glass, frosted-blur UI identical to existing pickers.
* Continue using the same AI generation endpoint:

  ```
  POST /api/ai/generate-meal
  ```

  (The `mealType` field already distinguishes snacks in the AI prompt.)

---

#### 2ï¸âƒ£ Snack Card Addition Across Meal Boards

Add a **Snack Card** section at the bottom of these boards:

| Meal Board                            | File                                                     | Snack Card Action                                    |
| ------------------------------------- | -------------------------------------------------------- | ---------------------------------------------------- |
| **Beachbody Hardbody**                | `client/src/pages/boards/BeachbodyHardbodyMealBoard.tsx` | Add 1 â€œSnackâ€ card at the bottom.                    |
| **Athlete Meal Board**                | `client/src/pages/boards/AthleteMealBoard.tsx`           | Add 1 â€œSnackâ€ card at the bottom.                    |
| **ProCare Board (Professional Care)** | `client/src/pages/boards/ProCareMealBoard.tsx`           | Add 1 â€œSnackâ€ card at the bottom.                    |
| **Diabetic Hub**                      | `client/src/pages/physician/DiabeticHub.tsx`             | Already has a snack slot â€” connect it to new picker. |
| **GLP-1 Hub**                         | `client/src/pages/physician/GLP1Hub.tsx`                 | Already has a snack slot â€” connect it to new picker. |

Each snack card should:

* Reuse the **MealCard** component styling.
* Have its own **â€œCreate Snack with AIâ€** button.
* Launch **AIMealCreatorModal** with `defaultMealType="snack"`.
* Generate output using the snack ingredient list.
* Render results exactly like any other AI-generated meal card (same Add/Replace/Remove logic).

---

#### 3ï¸âƒ£ Behavior & Logic

* **Snack cards** follow the same save and render flow as meals:

  * `onCreateAI()` â†’ opens modal â†’ generates â†’ saves â†’ displays.
* **Macros & badges**: use the same macro computation logic but exclude â€œmain mealâ€ totals; snacks add to daily calorie count only.
* **No duplicate snack cards**: one snack card per board.
* **Order:** Snack card appears below the last meal of the day (usually â€œDinnerâ€).

---

#### 4ï¸âƒ£ Testing Checklist

1. Each listed meal board now has exactly one â€œSnackâ€ card.
2. Clicking â€œCreate with AIâ€ on a snack card:

   * Opens `AIMealCreatorModal` pre-set to `mealType="snack"`.
   * Loads ingredient categories from `snackIngredients.ts`.
   * Successfully generates a snack and displays it as a MealCard.
3. Macro totals update correctly.
4. GLP-1 and Diabetic Hubs still respect clinical guardrails for snacks (low-GI, portion-controlled).
5. No styling regressions (black-glass cards, consistent spacing).

---

#### 5ï¸âƒ£ Constraints

* Do **not** alter any non-snack meal generation logic.
* Do **not** add additional cards or modals beyond the one snack card per board.
* Keep existing AI prompt structure intact.
* No new routes or backend endpoints required.

---

### âœ… Deliverables

* Updated `AIMealCreatorModal.tsx` (conditional snack picker)
* Updated all listed meal board files with new Snack Card section
* Verified snack AI generation works identically across all user types

---

Would you like me to produce a **plain-text version** of this (no Markdown formatting) so you can paste it directly into Replit chat for the assistant?
