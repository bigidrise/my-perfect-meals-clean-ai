/** ---------- "How to use" Help Dialog ---------- */
function MacroCalculatorHelp() {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button
          variant="ghost"
          size="sm"
          className="bg-white/10 hover:bg-white/20 border border-white/30 text-white text-xs sm:text-sm"
          data-testid="button-help"
        >
          <Info className="h-4 w-4 mr-2" />
          How to use
        </Button>
      </DialogTrigger>
      <DialogContent className="max-w-xl max-h-[80vh] overflow-y-auto bg-black/95 border-white/20 text-white">
        <DialogHeader>
          <DialogTitle className="text-white">How to use the Macro Calculator</DialogTitle>
        </DialogHeader>
        <div className="space-y-3 text-sm leading-6">
          <p>
            <strong className="text-white">Coach's Note:</strong>{" "}
            <span className="text-white/80">Read guidance above first.</span>
          </p>
          <ol className="list-decimal pl-5 space-y-2 text-white/80">
            <li>
              <strong className="text-white">Choose goal & body type</strong> – sets your default macro split.
            </li>
            <li>
              <strong className="text-white">Fill in your details</strong> – height, weight, age, sex, activity.
            </li>
            <li>
              <strong className="text-white">Baseline</strong> – <em className="text-white/70">BMR</em>=resting burn;{" "}
              <em className="text-white/70">TDEE</em>=daily burn incl. activity.
            </li>
            <li>
              <strong className="text-white">Target K-Cal & Macros</strong> – daily calories + Protein/Carbs/Fat & Fiber target.
            </li>
            <li>
              <strong className="text-white">Set macro targets</strong> – tap{" "}
              <em className="text-white/70">Set Macro Targets</em> (stays active until you change it).
            </li>
            <li>
              <strong className="text-white">Build Today's Plan</strong> – Smart Menu Builder → Show options or ➕ Add your own.
            </li>
            <li>
              <strong className="text-white">Lock your day</strong> – <em className="text-white/70">Send entire day to Macros</em>. Then (optional) Generate X days → Create Menu → Shopping.
            </li>
          </ol>
          <p className="text-xs opacity-70 text-white/60">You can adjust anytime. Re-send if your day changes.</p>
        </div>
      </DialogContent>
    </Dialog>
  );
}

